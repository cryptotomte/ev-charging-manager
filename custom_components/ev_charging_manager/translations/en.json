{
    "config": {
        "step": {
            "user": {
                "title": "Select Charger Type",
                "data": {
                    "charger_profile": "Charger Type"
                }
            },
            "serial": {
                "title": "Charger Serial Number",
                "description": "Enter the serial number of your charger. This is used to identify the correct sensor entities. You can find it in the go-e app or on the charger itself.",
                "data": {
                    "charger_serial": "Serial number"
                },
                "data_description": {
                    "charger_serial": "The charger serial number (e.g. 409787)"
                }
            },
            "charger_entities": {
                "title": "Configure Sensor Entities",
                "description": "Select the Home Assistant sensor entities for your charger. Known profiles have pre-filled suggestions — verify or adjust them for your installation.",
                "data": {
                    "car_status_entity": "Car Status Sensor",
                    "car_status_charging_value": "Charging Indicator Value",
                    "energy_entity": "Session Energy Sensor",
                    "energy_unit": "Energy Unit",
                    "power_entity": "Power Sensor",
                    "rfid_entity": "RFID / Transaction Sensor (optional)",
                    "total_energy_entity": "Total Energy Sensor (optional)",
                    "rfid_uid_entity": "RFID UID Sensor (optional)",
                    "charger_name": "Charger Name",
                    "charger_host": "Charger Host / IP"
                },
                "data_description": {
                    "car_status_entity": "Sensor reporting the car connection state (e.g. sensor.goe_123456_car_value)",
                    "car_status_charging_value": "Sensor value that means ''currently charging'' (e.g. 2 for go-e, ''charging'' for Easee)",
                    "energy_entity": "Sensor reporting session energy consumption",
                    "energy_unit": "Unit reported by the energy sensor",
                    "power_entity": "Sensor reporting current charging power in Watts",
                    "rfid_entity": "Sensor reporting the active RFID / transaction token",
                    "total_energy_entity": "Sensor reporting total lifetime energy dispensed",
                    "rfid_uid_entity": "Sensor reporting the last scanned RFID UID (requires rde=true for go-e)",
                    "charger_name": "Friendly name for this charger (shown in device registry)",
                    "charger_host": "IP address or hostname of the charger (required for go-e direct API access in PR-08)"
                }
            },
            "pricing": {
                "title": "Pricing Configuration",
                "data": {
                    "pricing_mode": "Pricing Mode",
                    "static_price_kwh": "Price per kWh"
                }
            },
            "spot_config": {
                "title": "Spot Price Configuration",
                "description": "Configure spot pricing parameters.",
                "data": {
                    "spot_price_entity": "Price sensor",
                    "spot_additional_cost_kwh": "Additional cost per kWh",
                    "spot_vat_multiplier": "VAT multiplier",
                    "spot_fallback_price_kwh": "Fallback price"
                },
                "data_description": {
                    "spot_price_entity": "Select the sensor that provides the current electricity spot price",
                    "spot_additional_cost_kwh": "Grid fee + energy tax, excl. VAT (kr/kWh)",
                    "spot_vat_multiplier": "1.25 = 25% Swedish VAT",
                    "spot_fallback_price_kwh": "Price used when spot sensor is unavailable (kr/kWh)"
                }
            },
            "confirm": {
                "title": "Complete Setup",
                "description": "Your EV Charging Manager for ''{charger_name}'' is ready to install. Click Submit to complete the setup and register the charger device."
            }
        },
        "error": {
            "entity_not_found": "Entity not found in Home Assistant. Check the entity ID and try again.",
            "entity_unavailable": "Entity exists but is unavailable or in an unknown state. Ensure the underlying integration is running.",
            "entity_invalid": "Entity exists but has a non-numeric state. A spot price sensor must report a number.",
            "invalid_price": "Price must be greater than 0."
        },
        "abort": {
            "already_configured": "This integration is already configured. Each charger requires a separate instance."
        }
    },
    "options": {
        "step": {
            "init": {
                "title": "Session Engine Options",
                "description": "Adjust session filtering and persistence settings.",
                "data": {
                    "min_session_duration_s": "Minimum session duration (seconds)",
                    "min_session_energy_wh": "Minimum session energy (Wh)",
                    "persistence_interval_s": "Auto-save interval (seconds)",
                    "max_stored_sessions": "Maximum stored sessions",
                    "eto_entity": "Charger total energy counter sensor"
                },
                "data_description": {
                    "min_session_duration_s": "Sessions shorter than this are discarded as micro-sessions (0–3600 s, default 60)",
                    "min_session_energy_wh": "Sessions with less energy than this are discarded (0–10000 Wh, default 50)",
                    "persistence_interval_s": "How often an active session is saved to disk in case of HA restart (60–3600 s, default 300)",
                    "max_stored_sessions": "Oldest sessions are pruned when this limit is exceeded (100–10000, default 1000)",
                    "eto_entity": "Optional. Used to cross-validate tracked session energy against the charger''s cumulative energy counter at session start and end. A warning is logged if deviation exceeds 5%."
                }
            },
            "pricing": {
                "title": "Pricing",
                "description": "Switch between static and spot pricing modes.",
                "data": {
                    "pricing_mode": "Pricing Mode",
                    "static_price_kwh": "Price per kWh",
                    "spot_price_entity": "Price sensor",
                    "spot_additional_cost_kwh": "Additional cost per kWh",
                    "spot_vat_multiplier": "VAT multiplier",
                    "spot_fallback_price_kwh": "Fallback price"
                },
                "data_description": {
                    "spot_price_entity": "Select the sensor that provides the current electricity spot price",
                    "spot_additional_cost_kwh": "Grid fee + energy tax, excl. VAT (kr/kWh)",
                    "spot_vat_multiplier": "1.25 = 25% Swedish VAT",
                    "spot_fallback_price_kwh": "Price used when spot sensor is unavailable (kr/kWh)"
                }
            }
        },
        "error": {
            "entity_not_found": "Entity not found in Home Assistant. Check the entity ID and try again.",
            "entity_invalid": "Entity exists but has a non-numeric state. A spot price sensor must report a number."
        }
    },
    "entity": {
        "sensor": {
            "current_user": { "name": "Current User" },
            "current_vehicle": { "name": "Current Vehicle" },
            "session_energy": { "name": "Session Energy" },
            "session_duration": { "name": "Session Duration" },
            "session_cost": { "name": "Session Cost" },
            "session_charge_price": { "name": "Session Charge Price" },
            "session_power": { "name": "Session Power" },
            "session_soc_added": { "name": "Session SoC Added" },
            "status": { "name": "Status" },
            "user_total_energy": { "name": "{user} Total Energy" },
            "user_total_cost": { "name": "{user} Total Cost" },
            "user_session_count": { "name": "{user} Sessions" },
            "user_avg_session_energy": { "name": "{user} Avg Session Energy" },
            "user_last_session": { "name": "{user} Last Session" },
            "guest_last_energy": { "name": "Guest Last Energy" },
            "guest_last_charge_price": { "name": "Guest Last Charge Price" }
        },
        "binary_sensor": {
            "charging": { "name": "Charging" }
        }
    },
    "config_subentries": {
        "vehicle": {
            "entry_type": "Vehicle",
            "initiate_flow": {
                "user": "Add vehicle"
            },
            "step": {
                "user": {
                    "title": "Add Vehicle",
                    "data": {
                        "name": "Vehicle name",
                        "battery_capacity_kwh": "Battery capacity (kWh)",
                        "usable_battery_kwh": "Usable battery capacity (kWh)",
                        "charging_phases": "Charging phases",
                        "max_charging_power_kw": "Max charging power (kW)",
                        "charging_efficiency": "Charging efficiency"
                    },
                    "data_description": {
                        "name": "A friendly name for this vehicle (e.g. ''Peugeot 3008 PHEV'')",
                        "battery_capacity_kwh": "Total battery capacity in kWh",
                        "usable_battery_kwh": "Usable portion of battery in kWh (defaults to total capacity if not set)",
                        "charging_phases": "Number of charging phases (1 or 3)",
                        "max_charging_power_kw": "Maximum charging power in kW (optional)",
                        "charging_efficiency": "Charging efficiency factor (0.80–0.99, default 0.90)"
                    }
                },
                "reconfigure": {
                    "title": "Edit Vehicle",
                    "data": {
                        "name": "Vehicle name",
                        "battery_capacity_kwh": "Battery capacity (kWh)",
                        "usable_battery_kwh": "Usable battery capacity (kWh)",
                        "charging_phases": "Charging phases",
                        "max_charging_power_kw": "Max charging power (kW)",
                        "charging_efficiency": "Charging efficiency"
                    },
                    "data_description": {
                        "name": "A friendly name for this vehicle",
                        "battery_capacity_kwh": "Total battery capacity in kWh",
                        "usable_battery_kwh": "Usable portion of battery in kWh",
                        "charging_phases": "Number of charging phases (1 or 3)",
                        "max_charging_power_kw": "Maximum charging power in kW (optional)",
                        "charging_efficiency": "Charging efficiency factor (0.80–0.99)"
                    }
                }
            },
            "error": {}
        },
        "user": {
            "entry_type": "User",
            "initiate_flow": {
                "user": "Add user"
            },
            "step": {
                "user": {
                    "title": "Add User",
                    "data": {
                        "name": "User name",
                        "type": "User type"
                    },
                    "data_description": {
                        "name": "Name of the person (e.g. ''Paul'')",
                        "type": "Regular user or guest with custom pricing"
                    }
                },
                "guest_pricing": {
                    "title": "Guest Pricing",
                    "data": {
                        "guest_pricing_method": "Pricing method",
                        "price_per_kwh": "Price per kWh",
                        "markup_factor": "Markup factor"
                    },
                    "data_description": {
                        "guest_pricing_method": "How to calculate the charging price for this guest",
                        "price_per_kwh": "Fixed price per kWh (required for ''fixed'' method)",
                        "markup_factor": "Multiply base price by this factor (required for ''markup'' method, must be > 1.0)"
                    }
                },
                "reconfigure": {
                    "title": "Edit User",
                    "data": {
                        "name": "User name",
                        "active": "Active"
                    },
                    "data_description": {
                        "name": "Name of the person",
                        "active": "Whether this user is active. Deactivating cascades to RFID mappings."
                    },
                    "description_placeholders": {
                        "type": "User type: {type}"
                    }
                },
                "reconfigure_guest_pricing": {
                    "title": "Edit Guest Pricing",
                    "data": {
                        "guest_pricing_method": "Pricing method",
                        "price_per_kwh": "Price per kWh",
                        "markup_factor": "Markup factor"
                    },
                    "data_description": {
                        "guest_pricing_method": "How to calculate the charging price for this guest",
                        "price_per_kwh": "Fixed price per kWh (required for ''fixed'' method)",
                        "markup_factor": "Multiply base price by this factor (required for ''markup'' method)"
                    }
                }
            },
            "error": {
                "pricing_required": "Guest users require pricing configuration.",
                "price_required": "Price per kWh is required when using fixed pricing method.",
                "markup_required": "Markup factor is required when using markup pricing method."
            }
        },
        "rfid_mapping": {
            "entry_type": "RFID Mapping",
            "initiate_flow": {
                "user": "Add RFID mapping"
            },
            "step": {
                "select_card": {
                    "title": "Discovered RFID Cards",
                    "description": "The following RFID cards are programmed in your charger. Select a card to map it to a user.",
                    "data": {
                        "card_index": "Select card"
                    },
                    "data_description": {
                        "card_index": "Choose the card you want to assign to a user"
                    }
                },
                "map_card": {
                    "title": "Assign Card to User",
                    "description": "Card #{card_index}: {card_name} ({card_energy}). Assign this card to a user.",
                    "data": {
                        "user_id": "User",
                        "vehicle_id": "Vehicle (optional)"
                    },
                    "data_description": {
                        "user_id": "The user this RFID card is assigned to",
                        "vehicle_id": "The vehicle associated with this card (optional)"
                    }
                },
                "manual": {
                    "title": "Add RFID Mapping",
                    "description": "Select the card slot index and assign it to a user. Tip: Start a charging session with the card, then check the RFID index in Developer Tools.",
                    "data": {
                        "card_index": "Card slot",
                        "user_id": "User",
                        "vehicle_id": "Vehicle (optional)"
                    },
                    "data_description": {
                        "card_index": "RFID card slot index (0–9, corresponds to go-e app slots 1–10)",
                        "user_id": "The user this RFID card is assigned to",
                        "vehicle_id": "The vehicle associated with this card (optional, e.g. for guests without a car)"
                    }
                },
                "reconfigure": {
                    "title": "Edit RFID Mapping",
                    "data": {
                        "user_id": "User",
                        "vehicle_id": "Vehicle (optional)",
                        "active": "Active"
                    },
                    "data_description": {
                        "user_id": "The user this RFID card is assigned to",
                        "vehicle_id": "The vehicle associated with this card (optional)",
                        "active": "Whether this mapping is active"
                    },
                    "description_placeholders": {
                        "card_index": "Card slot: {card_index}"
                    }
                }
            },
            "error": {
                "already_mapped": "This card slot is already assigned to another user.",
                "no_available_slots": "All 10 card slots (0–9) are already in use."
            }
        }
    }
}
